# Exploration

```{r}
library(tidyverse)
library(visdat)
library(patchwork)
```

```{r}
df <- haven::read_dta("../../data/processed/final_data.dta")
```

## Missing

```{r}
p1 <- df %>%
  # select first 30 columns
  vis_miss() +
  # angle text 90 degrees
  labs(title = "Macro Data Availability") +
  theme(axis.text.x = element_text(angle = 90))


p1
```


```{r}
ggsave("../../data/processed/missing_data.jpg", p1, width = 10, height = 6)
```

## growth by Status

```{r}
df %>%
  group_by(status, year) %>%
  reframe(
    mean_growth = mean(gdp_growth, na.rm = T),
    median_growth = median(gdp_growth, na.rm = T),
  ) %>%
  ggplot(aes(x = year, y = mean_growth, color = status)) +
  geom_line() 
```


